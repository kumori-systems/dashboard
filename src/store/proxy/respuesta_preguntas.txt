LISTADO DE ELEMENTOS REGISTRADOS EN LA PLATAFORMA
Existe una llamada del API de Admission que devuelve una lista de los elementos
registrados a los que el cliente tiene acceso.
Todo lo que se te devuelva, se considera que tienes permiso para verlo y/o usarlo.

Los identificadores ECloud se llaman URNs y están compuestos de:
PROTOCOLO:  eslap://
DOMINIO:    eslap.cloud  o  c2netproject.eu
TIPO:       runtime(s)  o  services  o  components
NOMBRE:     por ejemplo admission, monitor, native/dev/privilieged etc.
VERSION:    1_0_0 (major_minor_patch estándar SEMVER)

¿COMO DIFERENCIAR EN LA LISTA ELEMENTOS DEL USUARIO Y LOS "PUBLICOS"?
Lo que identifica al usuario es el DOMINIO. De momento asumimos un dominio por usuario.
De momento consideramos que todo lo que devuelva la llamada de consulta es propiedad del
usuario o tiene permisos suficientes para usarlo.
Este es un ejemplo de listado, donde 'data' es el contenido, y será posiblemente lo que
obtengas de la librería de acceso al API.

{
  "success": true,
  "message": "SUCCESSFULLY PROCESSED LIST BUNDLES.",
  "data": [
    "eslap://c2netproject.eu/runtime/java/0_9_9",
    "eslap://c2netproject.eu/runtime/java/1_0_0",
    "eslap://c2netproject.eu/runtime/java/1_0_2",
    "eslap://c2netproject.eu/runtime/java/dev/1_0_0",
    "eslap://c2netproject.eu/runtime/java/dev/1_0_2",
    "eslap://c2netproject.eu/runtime/nodejs/1_0_0",
    "eslap://c2netproject.eu/runtime/nodejs/1_0_1",
    "eslap://c2netproject.eu/runtime/nodejs/1_0_2",
    "eslap://eslap.cloud/components/acs/1_0_0",
    "eslap://eslap.cloud/components/admission/1_0_0",
    "eslap://eslap.cloud/components/monitor/1_0_0",
    "eslap://eslap.cloud/components/planner/1_0_0",
    "eslap://eslap.cloud/components/targetcontroller/1_0_0",
    "eslap://eslap.cloud/resources/vhost/acs",
    "eslap://eslap.cloud/resources/vhost/admission",
    "eslap://eslap.cloud/resources/vhost/monitor",
    "eslap://eslap.cloud/resources/vhost/stamp",
    "eslap://eslap.cloud/resources/volume/acs/persistent",
    "eslap://eslap.cloud/runtime/alpine/1_0_0",
    "eslap://eslap.cloud/runtime/alpine/1_0_1",
    "eslap://eslap.cloud/runtime/alpine/dev/1_0_0",
    "eslap://eslap.cloud/runtime/alpine/dev/1_0_1",
    "eslap://eslap.cloud/runtime/alpine/dev/privileged/1_0_0",
    "eslap://eslap.cloud/runtime/alpine/dev/privileged/1_0_1",
    "eslap://eslap.cloud/runtime/java/0_9_9",
    "eslap://eslap.cloud/runtime/java/1_0_0",
    "eslap://eslap.cloud/runtime/java/1_0_1",
    "eslap://eslap.cloud/runtime/java/1_0_1_ERRONEA_JUANJO",
    "eslap://eslap.cloud/runtime/java/dev/1_0_0",
    "eslap://eslap.cloud/runtime/java/dev/1_0_1",
    "eslap://eslap.cloud/runtime/java/dev/1_0_1_ERRONEA_JUANJO",
    "eslap://eslap.cloud/runtime/mariadb/1_0_0",
    "eslap://eslap.cloud/runtime/native/1_0_0",
    "eslap://eslap.cloud/runtime/native/1_0_1",
    "eslap://eslap.cloud/runtime/native/1_1_0",
    "eslap://eslap.cloud/runtime/native/1_1_1",
    "eslap://eslap.cloud/runtime/native/dev/1_1_0",
    "eslap://eslap.cloud/runtime/native/dev/1_1_1",
    "eslap://eslap.cloud/runtime/native/dev/privileged/1_0_0",
    "eslap://eslap.cloud/runtime/native/dev/privileged/1_0_1",
    "eslap://eslap.cloud/runtime/native/dev/privileged/1_1_0",
    "eslap://eslap.cloud/runtime/native/dev/privileged/1_1_1",
    "eslap://eslap.cloud/runtime/native/privileged/1_0_0",
    "eslap://eslap.cloud/services/acs/1_0_0",
    "eslap://eslap.cloud/services/admission/1_0_0",
    "eslap://eslap.cloud/services/http/inbound/1_0_0",
    "eslap://eslap.cloud/services/monitor/1_0_0",
    "eslap://eslap.cloud/services/planner/1_0_0",
    "eslap://eslap.cloud/services/targetcontroller/1_0_0",
    "eslap://linagora.c2netproject.eu/runtime/ucp/1_0_0",
    "eslap://linagora.c2netproject.eu/runtime/ucp/1_0_0/kk",
    "eslap://slapdomain/components/httpsep/0_0_1",
    "eslap://slapdomain/runtimes/managed/nodejs/0_0_1",
    "eslap://slapdomain/runtimes/managed/privileged/nodejs/0_0_1",
    "eslap://slapdomain/runtimes/nodejs/0_0_1"
  ]
}

EJEMPLOS DE MANIFIESTOS
* Elementos (componentes, servicios, runtimes, etc)
Los manifiestos de cada elemento, son los mismos que hay en el JSON que te pasé (el del estado)
en apartados como "component", "service" o "runtimes".

* Dominios web
{
  "parameters": {
    "vhost": "acs-jferrer.slap53.iti.es"
  },
  "name": "eslap://eslap.cloud/resources/vhost/acs",
  "spec": "eslap://eslap.cloud/resource/vhost/1_0_0"
}

* Certificados SSL
{
  "spec" : "eslap://eslap.cloud/resource/cert/server/1_0_0",
  "name" : "eslap://https.sample/resources/cert/server/mycert",
  "parameters" : {
    "content" : {
      "cert": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNxRENDQVpBQ0FRTXdEUVlKS29aSWh2Y05BUUVMQlFBd1pqRUxNQWtHQTFVRUJoTUNSVk14RVRBUEJnTlYKQkFnTUNGWmhiR1Z1WTJsaE1SRXdEd1lEVlFRSERBaFdZV3hsYm1OcFlURVBNQTBHQTFVRUNnd0dTM1Z0YjNKcApNUTh3RFFZRFZRUUxEQVpMZFcxdmNta3hEekFOQmdOVkJBTU1Ca3QxYlc5eWFUQWVGdzB4TnpBME1qY3hNVE13Ck1qbGFGdzB6TVRBeE1EUXhNVE13TWpsYU1GSXhDekFKQmdOVkJBWVRBa1ZUTVJFd0R3WURWUVFIREFoV1lXeGwKYm1OcFlURVBNQTBHQTFVRUNnd0dTM1Z0YjNKcE1SOHdIUVlEVlFRRERCWnRlV1J2YldGcGJpNXpiR0Z3TlRNdQphWFJwTG1Wek1JR2ZNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0R05BRENCaVFLQmdRRGxRK2xUSk12V1FMMUhOVFI2CkJubjhGbmlzYWM3NndVQ1p2RERGZjQvcXhRQlRvbVBJM1hnYXIwL24vWnlSeGJ0TXp3R3A1a2U5RWkvZXFjdzQKMW8rZ3JGM2xaaDB1elMrUDZTTnBMQStrWmFtQ1JxL0dERlJ4ODFrRzc5dWp2R01FSGtCaEpiM2xablBqZThXVApQcWFWWENDOXFMQ05JNnBYSjFWTWFCZkthUUlEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQk1HbjF0Ck9pZU45WEJxU2x3Sm9tOTl6VUFUemFUY2lpcUZUQldHWVYzaXh5a0U5M1RZVkljcnVINnhlUHZ6Zk1MbWRUYWQKVEcxZlJHaGlZaERNMXI4dzQweGRCc2dyT3hEVmJTSjZLMnVodlNMWFlBWTRBUkpyWnF3RzlWYnkyM2hKRWNJcAphMEpUN1p2dlluT3JBNW8vZnAxUHBXeXB3dGlqVXgvR3BxMlhjTVBWSzJQNzVDNGNrdHNNYy9zOXA2K2FYOUpTCmVZNXV3OFVJQVpNbW10OGh0WWZWUEVKck9aSjVoaXpFams2cHkwcmhxSkJIWUdrK1RYT0ViRG81TDNrNTArQVMKL2JGQnd5SE9HWGpHYVl1WlQ1dmJVKzViTGtwZmp4c0E0MnZaVElmV0l1Y2l6dTJqc210WXJ3UFl3UXFEY2svWQpUQytHOXc1U3FTU0pXa1RWCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
      "key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlDWFFJQkFBS0JnUURsUStsVEpNdldRTDFITlRSNkJubjhGbmlzYWM3NndVQ1p2RERGZjQvcXhRQlRvbVBJCjNYZ2FyMC9uL1p5UnhidE16d0dwNWtlOUVpL2VxY3c0MW8rZ3JGM2xaaDB1elMrUDZTTnBMQStrWmFtQ1JxL0cKREZSeDgxa0c3OXVqdkdNRUhrQmhKYjNsWm5QamU4V1RQcWFWWENDOXFMQ05JNnBYSjFWTWFCZkthUUlEQVFBQgpBb0dBQmYwd0t5dmE1MDNwbytLUDdHQWU3NmJtb0JwamZjbHVscFdEOEtUVWJaMlgxSmQ1WTlYbFBVMDNHU2hXCjNyZjduSllMeFJSdTYxRitUcUxBNHZzMzVUM3hENk56MDBFTGtvUi9aT0VoMXRKcUttOTJvL3RnYWZZRFFHeGQKVDJRblZuMHlrb1pjK2pWMkxSZkQ0K3QvT2dMNUMyTUxKVGg4VnphbHlOdkFWc0VDUVFEN0xtSUNxSEtDRlp4bApjYTFaVFBDMU5EV29ldCtGcUx3Zm9NZE5qOGJhWlp1MTErT1l1dnJsbkVNVDJ2Mm1PMVhjM21xb0Y5S1JsVXAvCmRIT2xVa1p6QWtFQTZhbmt6cG9EVnoxT2EzdXlMS3Y2MURMSGx0NUJJK3VDbjRCQ0ZYbjBsdERBUU1YWElXd1oKL1RJcEZteHRBNXlxMU83VXlKZCtOdTdRWlZZbmZBTllzd0pCQU5RV2lRbG5oRENVNE5iRFVyVEpnNkh0Y0xWTwo4dmVmenlFQmwrZkUxQXBLcTF5eTZ1bG1VRDJhWVFVZDd2anl0d0JsQ1RmZnpadkJyQUxNcUcxYWVFTUNRRW5iClRKcE5MaDhtSHFKMHI4WFUrbXlXUEdZZ2pFQjVVWWx1OWZScDN2akl0T3dFWE5LUW84cFhUNHRwN0M5SEZ1eEYKTFhiV0E2d0RZbFdWbk5kakMyY0NRUURZcU5oZGlUN2Z0eGV3UGJrYnZBRGtUZjhQN09FVnVSdGVqeDF1blVDdgpablhEeFBPV1Y4WS9uZUo3ZElhcUM5UTJuNDJONjF4bThaMUE3MWNUUDFuWAotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=",
      "ca": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURuekNDQW9lZ0F3SUJBZ0lKQUlNczdnMnVxNjFyTUEwR0NTcUdTSWIzRFFFQkN3VUFNR1l4Q3pBSkJnTlYKQkFZVEFrVlRNUkV3RHdZRFZRUUlEQWhXWVd4bGJtTnBZVEVSTUE4R0ExVUVCd3dJVm1Gc1pXNWphV0V4RHpBTgpCZ05WQkFvTUJrdDFiVzl5YVRFUE1BMEdBMVVFQ3d3R1MzVnRiM0pwTVE4d0RRWURWUVFEREFaTGRXMXZjbWt3CkhoY05NVGN3TkRJM01URXhOVE0xV2hjTk1qY3dOREkxTVRFeE5UTTFXakJtTVFzd0NRWURWUVFHRXdKRlV6RVIKTUE4R0ExVUVDQXdJVm1Gc1pXNWphV0V4RVRBUEJnTlZCQWNNQ0ZaaGJHVnVZMmxoTVE4d0RRWURWUVFLREFaTApkVzF2Y21reER6QU5CZ05WQkFzTUJrdDFiVzl5YVRFUE1BMEdBMVVFQXd3R1MzVnRiM0pwTUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeXAzNGl6b1M0VjRwMzV1eVgzeVRpK05iV01lNDVSOGIKVXZTbUppM1JvTmlEdDFKUGdmRmZ2SmVheFJLSWUxWHRWVDVTOUM2RHc5VG5LMFJueUliUVo1anZPeHQ3R0xkeApxclYrWXBQL1Q1QmdsY3RGU25MTWYvSU1qTjlLRFIyZm9SbEYxSTRQMUFBUE9SZVp6alc3dE9WTVdiYWZKQTA2CjkzTnZPVEQzMEgxaXdYQTllTEllK3NEdVRhRm81QTNiT3A4VGNYbXpxTE1IRVorUER0a1dCdjkrWDh0Wnl6dE0KR3BmM05PaEc1RjI4S2pySmNOSW40eG5seVYxelpqbmZncVlORzMwRFNOUlk3R2wxOFFwdEpTZzBvTkhzdGo3OAptZjdYV2NWSEV1RVBSNkFWVE5TTXlnK2M3bk5ySmVpaXFXOGg3YWt4U1lGNWtNcU9Kdno4Q3dJREFRQUJvMUF3ClRqQWRCZ05WSFE0RUZnUVU0NmFPUkRXTjVRbWUvWFViT2I5ZWpPeHltdEl3SHdZRFZSMGpCQmd3Rm9BVTQ2YU8KUkRXTjVRbWUvWFViT2I5ZWpPeHltdEl3REFZRFZSMFRCQVV3QXdFQi96QU5CZ2txaGtpRzl3MEJBUXNGQUFPQwpBUUVBY21RQVRDTnNxbjBvZ0RpdGJ0Q2hucXltUXNwSEdXSSt5Ri90NjVKcW9BTUJLRmhqUTAreGM5V2Uxc2dyCkI4N2NIR0hTd09SZjdwaTdSMFl3S1Vta2c2NXVqNXpTaG5BQmp2NHVLRU9QYTJ2ZmY0NG5oZmNIYXRLWHd6KzUKVnl4UFdaN1YwcENzUEg1OVROOTdLaCtMbjJjQXlLY3Y0V2lOQXU1RWNTTU4xMUs5TjFuN1NzelFJRDZXNENCeAp1TDBrY2pVREJPZ2sxRmNqZDZXaFp0cmRNUTNsZ1pITzd0TGcwbG8rQ0JTMGpKTlVBUWhZVjZEWHdOMVM2VjdCCml0K0NUMXozOGUwWHRiZkhDMk1vT2hXTy9ORTFTbWdDRHVEdG9ZRmFxeWkxOXNGUXI5UG5CZXdiSVp2QUtCWFMKVVByQXZRR2xBSy94NXF0OHZhSnpteW13UVE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
    }
  }
}

* Volúmenes
No dispongo de datos. Déjalo pendiente, crea una estructura de datos muy sencilla,
con identificador y un dato de % de uso por ejemplo, y mas adelante ya lo concretaremos.


DOMINIOS ALEATORIOS
No le dediques tiempo al cálculo del dominio aleatorio, ya tenemos una implementación,
solo que actualmente se hace en el servidor. Sí que hay un par de detalles importantes.
El Stamp ECloud tendrá asociado lo que llamamos un Dominio de Referencia (típicamente
será osdmz.iti.es o bien slap53.iti.es). Este es el dominio base sobre el que se crean
subdominios para los despliegues, actualmente con una combinación aleatoria de dos palabras.
La implementación se hace con una librería Node, cuando llegues a eso, ya te damos detalles,
pero insisto en que de momento no es crítico, mejor que avances en otras cosas.

Ejemplo:  snake-happy.slap53.iti.es



CALCULO DE ESTADOS ANIDADOS (instancia-rol-despliegue)
Es bastante simple. Las instancias tienen un estado que puede ser:
CONNECTED --> la instancia está up --> VERDE en el dashboard
DISCONNECTED --> la instancia está down --> ROJO en el dashboard
no hay propiedad estado --> la instancia está arrancando o estado desconocido --> AMARILLO en el dashboard

Para el cálculo del estado del ROL, haz una simple función que de momento (es posible que en un futuro cambie) muestre:
si existe alguna instancia de ese rol en ROJO --> ROJO a nivel de rol
si no, si existe alguna instancia de ese rol en AMARILLO --> AMARILLO a nivel de rol
si no --> VERDE a nivel de rol

Lo mismo es extrapolable al cálculo del estado del DESPLIEGUE.

DATOS DE MONITORIZACIÓN
1. La estructura de datos debe ser parte del modelo. Lo que tu recibirás
tendrá un formato parecido a lo que adjunto más abajo (medidas) y en el fichero
adjunto (métricas agragadas). Seguramente, lo que recibas serán métricas agregadas
por intervalos de tiempo.

2. Los datos de monitorización llegarán en forma de eventos. 

¿COMO SE ACUMULA CADA TIPO DE MEDIDA?
CPU - media
MEM - media
NET - suma
RPM (REQUESTS PER MINUTE) - media
RES (RESPONSE TIME) - media

MONITORIZACIÓN - EJEMPLO DE JSON CON MEDIDAS (MEASURES)
{
  "data": [
    {
      # DATOS DE MONITORIZACION DE UN NODO COMPUTACIONAL (MÁQUINA DONDE CORREN
      # LAS DIFERENCTES VMs DE LAS INSTANCIAS).
      #
      "node": "52ce9a51-a823-4bc3-b825-a7ac5e52555d",
      "timestamp": "20170522T000004",
      "measures": {
        "cpu": 8.925664582847917,
        "memory": 20.33498965130425,
        "disk": 10.834673769449065,
        "bandwith": {
          "eth0": {
            "bandwith_input": 10297577573,
            "bandwith_output": 20886657010
          }
        },
        "timestamp": "20170522T000004"
      }
    },
    {
      # DATOS DE MONITORIZACION DE UNA INSTANCIA DE TIPO SEP-ServiceEntryPoint
      # TIENEN DATOS DE PETICIONES HTTP Y WEBSOCKETS
      # OJO: DE MOMENTO NO TIENEN DATOS DE CPU, MEM, etc
      #
      "up": true,
      "node": "52ce9a51-a823-4bc3-b825-a7ac5e52555d",
      "service": "eslap://eslap.cloud/services/http/inbound/1_0_0",
      "deployment": "slap://eslap.cloud/deployments/20170515_155455/39528c5e",
      "component": "slap://slapdomain/components/httpsep/0_0_1",
      "role": "sep",
      "instance": "eslap.cloud_sep_4",
      "timestamp": 1495411204746,
      "measures": {
        "timestamp_init": "20170521T235962",
        "timestamp_end": "20170522T000067",
        "elapsed_msec": 10053,
        "http_requests_per_second": 0.09947279419078882,
        "http_errors_per_second": 0,
        "http_size_in_per_second": 772.1078285089028,
        "http_size_out_per_second": 4.675221326967074,
        "http_chunk_in_per_second": 0.09947279419078882,
        "http_chunk_out_per_second": 0.09947279419078882,
        "http_response_time": 455,
        "ws_size_in_per_second": 0,
        "ws_size_out_per_second": 0,
        "ws_chunk_in_per_second": 0,
        "ws_chunk_out_per_second": 0
      }
    },
    {
      # DATOS DE MONITORIZACION DE UNA INSTANCIA "NORMAL" (NO SEP)
      #
      "up": true,
      "node": "52ce9a51-a823-4bc3-b825-a7ac5e52555d",
      "service": "eslap://eslap.cloud/services/monitor/1_0_0",
      "deployment": "slap://eslap.cloud/deployments/20170515_155501/97199f46",
      "component": "eslap://eslap.cloud/components/monitor/1_0_0",
      "role": "monitor",
      "instance": "eslap.cloud_monitor_5",
      "timestamp": 1495411206650,
      "measures": {
        "cpu": 0.45268477157360404,
        "memory": 12.651824951171875,
        "bandwith_input": 643716272,
        "bandwith_output": 1926728386,
        "timestamp": "20170522T000062"
      }
    }
  ]
}

MONITORIZACIÓN - MÉTRICAS AGRAGADAS (METRICS)